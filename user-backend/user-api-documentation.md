###Create User:

- Route:
  - `POST /api/v{version}/users`
- Responses:
  - `201 CREATED` for successfully created user
  - `400 BAD_REQUEST` if validation error
  - `409 CONFLICT` for any other cases

Expects valid JSON request body. The property values and their data types should match the format below, 
and any required properties must exist otherwise will return `400 BAD_REQUEST`.
	`{ 
           firstName: String(optional)
           lastName: String(optional),
	   username: String(required)(unique), 
	   email: Email(required)(unique), 
	   password: any(required)
	}`

The username property is not editable after a user is created. If either username or email values already 
exist in the database, it will return `409 CONFLICT` with a JSON body `{ msg: "User already exist" }`
Succesfully created user will be assigned the following extra autogenerated values, and a **role** property 
which defaults to 0
	`{
	       ......
	       ......  
	 _id:ObjectId() unique (autogenerated), 
	  created_date: Date(autogenerated), 
	  role: number (0 or 1 default 0) 
	}` 
	    

###Get All Users:
- Route:
  - `GET /api/v{version}/users`
- Responses:
  - `200 OK` successfully returned all users 
    `401 UNAUTHORIZED` for any other outcomes 

Decode request.cookie.token for the user **_id** and checks user exist in the database and has a role assigned
as **1**, i.e admin, if successful it will return 200 OK status with an array of all users that exist. It will 
display all fields, except the password. For any other cases it will return 401 UNAUTHORIZED 
	`[ {
	  _id: "5c0c15ac53bdca2edffd6516",
	  firstName: "",
          lastName: "",
	  username: jo12	  
	  email: joe@gmail.com, 
	  created_date: "2018-12-08T19:04:12.400Z", 
	  role: 0
	 },
	 {
	  _id: "5c0c15ac53bdca2edffd6516",
          firstName: "Jo",
          lastName: "o",
          username: jane16
	  email: jane@gmail.com, 
	  created_date: "2018-15-08T19:04:12.400Z", 
	  role: 1
	 }
	....
	....
	.]`  



###Get User:
- Expects user NUMBER id that exist in the database, the user need to be Admin or currently loggedin user
  if not found return `401 UNAUTHORIZED`, and if found return JSON data with properties _id, firstName, 
  lastName, username, role, email, created_date
- Route:
  - `GET /api/v{version}/users/:id`
- Response:
  - `200 OK` with a JSON response body
  - `401 UNAUTHORIZED` if user has not loggedin or no authorization
  - Sample: `{
	  _id: "5c0c15ac53bdca2edffd6516",
	  firstName: "",
          lastName: "",
	  username: jo12	  
	  email: joe@gmail.com, 
	  created_date: "2018-12-08T19:04:12.400Z", 
	  role: 0
	 }`


###Update User Profile:
- Route:
  - `PUT /api/v{version}/users/:id/profile`
- Response:
  - `200 OK` with updated user information
  - `401 UNAUTHORIZED` if user have no permission or not loggedin
  - `400 BAD_REQUEST` if user provided invalid input
-  Expects a NUMBER parameter id is a loggedin user id, or the user is an admin, and also expects JSON body with firstName, lastName, email. firstName and lastName are optional and only updated if present within the request body. Any other properties will be ignored. 
- successful update return 
	 `{
	  _id: "5c0c15ac53bdca2edffd6516",
	  firstName: "",
          lastName: "",
	  username: jo12	  
	  email: joe@gmail.com, 
	  created_date: "2018-12-08T19:04:12.400Z", 
	  role: 0
	 }`


###Update User Password:
- Route:
  - `PUT /api/v{version}/users/:id/password`
- Response:
  - `200 OK` for successul update, and return updated user profile
  - `401 UNAUTHORIZED` if user has no authorization
  - `400 BAD_REQUEST` if user provided invalid input
- Expects a NUMBER parameter id is a loggedin user id, or the user is an admin, and also checks the JSON request body that holds the password which is going to be updated. Any other property will be ignored.

Example Input:
{"password": "newPass"}



###Delete User:
- Route:
  - `DELETE /api/v{version}/users/:id`
- Response:
  - `200 OK` successful deletion 
  - `401 UNAUTHORIZED` if id is not found, and any other errors
- Expects a user id, the user need to be logged in, and the id refer the loggedin user or admin
  

###Login:
-Route
   - `POST /api/v{version}/users/login`
- Response
    `200 OK` generated token sent with res.cookie JSON object 
    `401 UNAUTHORIZED` if user not found 
    `500 INTERNAL_SERVER_ERROR` if user found but token was not generated 

-Expects JSON request body with email and password property; email should be valid and must exist in 
the database and password must match the hashed passwored in the database. If any of these fail, it will
return `401 UNAUTHORIZED`.

If email and password are authenticated. The valid user ** _id, username, and role property**, 
will be used to generate a Json Web Token (JWT). The payload will have the following format
 `{
    "id": "5c0c3a08dcc8de3862ec0f8f",
     "role": 0,
     "username": "jo12"
  }`

If JWT was not generated, it will return `500 INTERNAL SERVER ERROR`.
Successful generation of the JWT will return `200 OK` status with token attached to the res.cookie 
i.e `{"token": JWT}`

###Logout:
- Route:
  - `GET /api/v{version}/users/auth/logout`
- Response:
  - `200 Ok` for successful logout
  - `500 INTERNAL SEVER ERROR` if request is not complete
- Expects no request body, and will always return `200 OK`, and destroy the cookie, and `500 INTERNAL SERVER ERROR` if backend failed to complete the request. 
